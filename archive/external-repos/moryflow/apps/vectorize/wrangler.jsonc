{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "moryflow-vectorize",
  "main": "src/index.ts",
  "compatibility_date": "2024-12-01",
  "compatibility_flags": ["nodejs_compat"],
  // Workers AI 绑定
  "ai": {
    "binding": "AI"
  },
  // Vectorize 向量数据库绑定
  "vectorize": [
    {
      "binding": "VECTOR_INDEX",
      "index_name": "moryflow-embeddings"
    }
  ],
  // 环境变量
  "vars": {
    "EMBEDDING_MODEL": "@cf/qwen/qwen3-embedding-0.6b",
    "VECTOR_DIMENSIONS": "1024"
  },
  // API_SECRET 需要通过 wrangler secret put API_SECRET 设置

	// 启用日志
  "observability": {
    "logs": {
      "enabled": false,
      "head_sampling_rate": 1,
      "invocation_logs": true,
      "persist": true
    }
  }
}
